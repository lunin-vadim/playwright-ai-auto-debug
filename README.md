# @playwright-ai/auto-debug

ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞ Playwright —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é AI

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install @playwright-ai/auto-debug
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ playwright.config.js (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ü–∏—é `ai_conf` –≤ –≤–∞—à `playwright.config.js`:

```javascript
import { defineConfig } from '@playwright/test';

export default defineConfig({
  // –û–±—ã—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Playwright
  testDir: './tests',
  reporter: 'html',
  
  // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ª–∞–¥–∫–∏
  ai_conf: {
    // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    api_key: '–≤–∞—à_api_–∫–ª—é—á_–∑–¥–µ—Å—å',
    
    // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    ai_server: 'https://api.mistral.ai',        // URL AI —Å–µ—Ä–≤–µ—Ä–∞
    model: 'mistral-medium',                    // –ú–æ–¥–µ–ª—å AI
    results_dir: 'test-results',                // –ü–∞–ø–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç–æ–≤
    max_prompt_length: 2000,                    // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø—Ä–æ–º–ø—Ç–∞
    request_delay: 1000,                        // –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–º—Å)
    
    // –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è AI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    messages: [
      {
        role: 'system',
        content: '–¢—ã AI –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –æ—Ç–ª–∞–¥–∫–µ Playwright —Ç–µ—Å—Ç–æ–≤. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.'
      }
    ]
  }
});
```

### TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è TypeScript –ø—Ä–æ–µ–∫—Ç–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∏–ø—ã. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–±–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ –≤–∞—à `playwright.config.ts`:

```typescript
import { defineConfig } from '@playwright/test';
// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–∏–ø—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ai_conf
import 'playwright-ai-auto-debug';

export default defineConfig({
  // –û–±—ã—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Playwright
  testDir: './tests',
  reporter: 'html',
  
  // ai_conf —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º
  ai_conf: {
    api_key: process.env.MISTRAL_API_KEY || 'your_api_key_here',
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º
  }
});
```

> üí° **–°–æ–≤–µ—Ç**: –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ `playwright-ai-auto-debug` TypeScript –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `ai_conf`

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .env

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
MISTRAL_API_KEY=–≤–∞—à_api_–∫–ª—é—á_–∑–¥–µ—Å—å
```

> ‚ö†Ô∏è –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `playwright.config.js` –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `.env` –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### CLI –∫–æ–º–∞–Ω–¥–∞

```bash
npx playwright-ai
```

### –ß–µ—Ä–µ–∑ npm scripts

–î–æ–±–∞–≤—å—Ç–µ –≤ `package.json`:

```json
{
  "scripts": {
    "debug:ai": "npx playwright-ai"
  }
}
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
npm run debug:ai
```

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|--------------|----------|
| `api_key` | string | ‚úÖ | - | API –∫–ª—é—á –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–∞ |
| `ai_server` | string | ‚ùå | `https://api.mistral.ai` | URL AI —Å–µ—Ä–≤–µ—Ä–∞ |
| `model` | string | ‚ùå | `mistral-medium` | –ú–æ–¥–µ–ª—å AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ |
| `results_dir` | string | ‚ùå | `test-results` | –ü–∞–ø–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç–æ–≤ |
| `max_prompt_length` | number | ‚ùå | `2000` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø—Ä–æ–º–ø—Ç–∞ |
| `request_delay` | number | ‚ùå | `1000` | –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–º—Å) |
| `error_file_patterns` | array | ‚ùå | –°–º. –Ω–∏–∂–µ | –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–∞–π–ª–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏ |
| `messages` | array | ‚ùå | –°–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ | –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è AI |

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã —Å –æ—à–∏–±–∫–∞–º–∏

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏—â–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤:

- `copy-prompt.txt` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–∞–π–ª Playwright
- `error-context.md` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏
- `error.txt` - –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å –æ—à–∏–±–∫–æ–π
- `test-error.md` - Markdown —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏
- `*-error.txt` - –ª—é–±—ã–µ —Ñ–∞–π–ª—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ `-error.txt`
- `*-error.md` - –ª—é–±—ã–µ —Ñ–∞–π–ª—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ `-error.md`

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `error_file_patterns`:

```javascript
ai_conf: {
  api_key: 'your_key',
  error_file_patterns: [
    'my-custom-error.txt',
    'failure-*.md',
    'test-results.json'
  ]
}
```

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –ß–∏—Ç–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `playwright.config.js`
2. **–ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã `copy-prompt.txt` –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ
3. **AI –∞–Ω–∞–ª–∏–∑**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—à–∏–±–æ–∫ –≤ AI –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏–π
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤**: –î–æ–±–∞–≤–ª—è–µ—Ç –±–ª–æ–∫ —Å –æ—à–∏–±–∫–æ–π –∏ —Ä–µ—à–µ–Ω–∏–µ–º –≤ HTML –æ—Ç—á–µ—Ç—ã Playwright

## üìã –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –≤ –≤–∞—à–∏—Ö HTML –æ—Ç—á–µ—Ç–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è –±–ª–æ–∫:

```html
<div class="ai-debug">
  <h3>üîç AI Debug</h3>
  <p><strong>–û—à–∏–±–∫–∞:</strong> Error: Timeout while waiting for selector...</p>
  <p><strong>–†–µ—à–µ–Ω–∏–µ –æ—Ç AI:</strong> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –æ–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º —à–∞–≥–æ–º...</p>
</div>
```

## üìä –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```bash
üöÄ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ª–∞–¥–∫–∏ Playwright —Ç–µ—Å—Ç–æ–≤...

‚öôÔ∏è  –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ AI...
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ playwright.config.js

üîç –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏...
‚úÖ –ù–∞–π–¥–µ–Ω prompt: test-results/test1/copy-prompt.txt
‚úÖ –ù–∞–π–¥–µ–Ω prompt: test-results/test2/copy-prompt.txt
üìã –ù–∞–π–¥–µ–Ω–æ 2 —Ñ–∞–π–ª(–æ–≤) —Å –æ—à–∏–±–∫–∞–º–∏

üìù –û–±—Ä–∞–±–æ—Ç–∫–∞ 1/2: test-results/test1/copy-prompt.txt
üîÅ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ AI...
‚úÖ –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω
üíæ HTML –æ–±–Ω–æ–≤–ª—ë–Ω: test-results/test1/index.html

üìù –û–±—Ä–∞–±–æ—Ç–∫–∞ 2/2: test-results/test2/copy-prompt.txt
üîÅ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ AI...
‚úÖ –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω
üíæ HTML –æ–±–Ω–æ–≤–ª—ë–Ω: test-results/test2/index.html

‚úÖ –û—Ç–ª–∞–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
```

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 16.0.0
- API –∫–ª—é—á –¥–ª—è AI —Å–µ—Ä–≤–∏—Å–∞
- Playwright —Ç–µ—Å—Ç—ã —Å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏
- –§–∞–π–ª `playwright.config.js` —Å —Å–µ–∫—Ü–∏–µ–π `ai_conf`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –î–æ–±–∞–≤—å—Ç–µ `playwright.config.js` –≤ `.gitignore` –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
- –°–æ–±–ª—é–¥–∞–µ—Ç—Å—è rate limiting –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT 