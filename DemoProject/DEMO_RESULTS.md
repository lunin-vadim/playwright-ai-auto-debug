# üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ playwright-ai-auto-debug —Å MCP –∏ Allure

## üìã –û–±–∑–æ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

–î–∞–Ω–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `playwright-ai-auto-debug` —Å:
- **MCP (Model Context Protocol)** - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è DOM —Å–Ω–∞–ø—à–æ—Ç–æ–≤
- **Allure** - –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
- **AI –∞–Ω–∞–ª–∏–∑** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ—à–∏–±–æ–∫

## üöÄ –ß—Ç–æ –±—ã–ª–æ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ

### 1. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
```bash
npm test
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 6 —Ç–µ—Å—Ç–æ–≤ (1 ‚úÖ –ø—Ä–æ—à–µ–ª, 5 ‚ùå —É–ø–∞–ª–∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)

### 2. MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```bash
npm run ai:debug:mcp
```
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ MCP:**
- üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Playwright MCP —Å–µ—Ä–≤–µ—Ä—É
- üìä –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö DOM —Å–Ω–∞–ø—à–æ—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü
- üéØ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞
- üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### 3. AI –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑—ã:**
- `ü§ñ AI Debug Analysis: Login Timeout Simulation`
- `ü§ñ AI Debug Analysis: Wrong Title Assertion` 
- `ü§ñ AI Debug Analysis: Missing Checkout Button`

### 4. Allure –æ—Ç—á–µ—Ç
```bash
npm run allure:generate && npm run allure:open
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DOM —Å–Ω–∞–ø—à–æ—Ç–∞ –æ—Ç MCP

```yaml
- region "Skip to main content":
  - link "Skip to main content"
- navigation "Main":
  - link "Playwright logo Playwright"
  - link "Docs"
  - link "API"
  - button "Node.js"
  - link "Community"
  - button "Search (Command+K)"
- banner:
  - heading "Playwright enables reliable end-to-end testing"
  - link "Get started"
- main:
  - img "Browsers (Chromium, Firefox, WebKit)"
  - heading "Any browser ‚Ä¢ Any platform ‚Ä¢ One API"
  # ... –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```

## ü§ñ –ü—Ä–∏–º–µ—Ä AI –∞–Ω–∞–ª–∏–∑–∞

### –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–∫–∏: Login Timeout Simulation

**üîç –¢–∏–ø –æ—à–∏–±–∫–∏:** TimeoutError - –ø—Ä–µ–≤—ã—à–µ–Ω —Ç–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞  
**üéØ –≠–ª–µ–º–µ–Ω—Ç:** `#login-form`  
**‚è±Ô∏è –¢–∞–π–º–∞—É—Ç:** 3000ms

**üîß –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞**
```javascript
const loginForm = page.locator('#login-form');
await expect(loginForm).toBeVisible({ timeout: 3000 });
```

2. **–£—Å–ª–æ–≤–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ**
```javascript
try {
  await page.waitForSelector('#login-form', { timeout: 3000 });
} catch (error) {
  console.log('Login form not found, skipping login steps');
  return;
}
```

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã**
```javascript
const selectors = ['#login-form', '.login-container', '[data-testid="login"]'];
for (const selector of selectors) {
  const element = await page.locator(selector).first();
  if (await element.isVisible()) {
    break;
  }
}
```

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤ | 6 |
| –ü—Ä–æ—à–µ–¥—à–∏—Ö —Ç–µ—Å—Ç–æ–≤ | 1 ‚úÖ |
| –£–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤ | 5 ‚ùå |
| AI –∞–Ω–∞–ª–∏–∑–æ–≤ | 3 ü§ñ |
| DOM —Å–Ω–∞–ø—à–æ—Ç–æ–≤ | 5 üìä |
| Allure attachments | 20+ üìé |

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Allure –æ—Ç—á–µ—Ç–∞

–í Allure –æ—Ç—á–µ—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–ø–∞–≤—à–µ–≥–æ —Ç–µ—Å—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–æ:

### üìé Attachments:
1. **Screenshot** - —Å–∫—Ä–∏–Ω—à–æ—Ç –º–æ–º–µ–Ω—Ç–∞ –æ—à–∏–±–∫–∏
2. **Video** - –≤–∏–¥–µ–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
3. **Error Context** - DOM —Å–Ω–∞–ø—à–æ—Ç –æ—Ç MCP
4. **AI Debug Analysis** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI –∞–Ω–∞–ª–∏–∑

### üè∑Ô∏è Labels:
- `ai-analyzed: true` - –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
- `language: javascript`
- `framework: playwright`
- `project: chromium`

### üìä –ù–∞–≤–∏–≥–∞—Ü–∏—è:
- **Overview** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **Categories** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º –æ—à–∏–±–æ–∫
- **Suites** - —Ç–µ—Å—Ç—ã –ø–æ –Ω–∞–±–æ—Ä–∞–º
- **Graphs** - –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
- **Timeline** - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```mermaid
graph TD
    A[Playwright Tests] -->|Fails| B[Error Context]
    B --> C[MCP Client]
    C -->|DOM Snapshot| D[AI Analysis]
    D -->|Response| E[Allure Attachment]
    E --> F[Allure Report]
    
    C --> G[MCP Server]
    G -->|WebSocket| H[Browser Context]
    H -->|DOM Data| C
```

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏
- AI –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞

### 2. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑**
- MCP –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π DOM –∫–æ–Ω—Ç–µ–∫—Å—Ç
- AI –ø–æ–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### 3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ç—á–µ—Ç–∞–º–∏**
- –í—Å–µ –∞–Ω–∞–ª–∏–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Allure
- –£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

### 4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–µ—Å—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

## üìù –í—ã–≤–æ–¥—ã

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞–ª–∞ —É—Å–ø–µ—à–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é:
- ‚úÖ **MCP** —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç DOM –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚úÖ **AI** –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ **Allure** –∫—Ä–∞—Å–∏–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å AI –∞–Ω–∞–ª–∏–∑–æ–º
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É —Ç–µ—Å—Ç–æ–≤

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π API –∫–ª—é—á –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ AI –∞–Ω–∞–ª–∏–∑–∞
2. –†–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞–±–æ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å CI/CD pipeline
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∞–Ω–∞–ª–∏–∑–∞ 